<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" media="screen" href="Styles/default.css" />
    <!--<link href='http://fonts.googleapis.com/css?family=Roboto:400,700' rel='stylesheet' type='text/css'>-->
    <title>PolarityBox</title>
</head>
<body>

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>


<script src="Scripts/Game.js" type="text/javascript"></script>
<script src="Scripts/GlobalSettings.js" type="text/javascript"></script>

<script src="Scripts/AudioManager.js" type="text/javascript"></script>
<script src="Scripts/ImageManager.js" type="text/javascript"></script>
<script src="Scripts/InputManager.js" type="text/javascript"></script>
<script src="Scripts/SceneManager.js" type="text/javascript"></script>
<script src="Scripts/LevelManager.js" type="text/javascript"></script>
<script src ="Scripts/ScoreManager.js"type="text/javascript"></script>

<script src="Scripts/Scenes/Menu/Menu.js" type="text/javascript"></script>
<script src="Scripts/Scenes/Menu/MenuInputHandler.js" type="text/javascript"></script>

<script src="Scripts/Scenes/Level/Level.js" type="text/javascript"></script>
<script src="Scripts/Scenes/Level/LevelInputHandler.js" type="text/javascript"></script>
<script src="Scripts/Scenes/Level/LevelMapManager.js" type="text/javascript"></script>
<script src="Scripts/Scenes/Level/LevelMap.js" type="text/javascript"></script>
<script src="Scripts/Scenes/Level/HUD.js" type="text/javascript"></script>

<script src="Scripts/Scenes/Enemies/EnemyBlock.js" type="text/javascript"></script>

<script src="Scripts/Scenes/Other/NewHighScore.js" type="text/javascript"></script>
<script src="Scripts/Scenes/Other/GameOver.js" type="text/javascript"></script>
<script src="Scripts/Scenes/Other/GameComplete.js" type="text/javascript"></script>

<script src="Scripts/Scenes/Player/Player.js" type="text/javascript"></script>
<script src="Scripts/Scenes/Player/PlayerAnimationHandler.js" type="text/javascript"></script>
<script src="Scripts/Scenes/Player/PlayerCollisionHandler.js" type="text/javascript"></script>
<script src="Scripts/Scenes/Player/PlayerEmitter.js" type="text/javascript"></script>
<script src="Scripts/Scenes/Player/PlayerDead.js" type="text/javascript"></script>

<script src="Scripts/Utils/CollisionDetector.js" type="text/javascript"></script>

<script src="Scripts/Utils/Colours.js" type="text/javascript"></script>
<script src="Scripts/Utils/Strings.js" type="text/javascript"></script>

<script>



    window.onload = function(){
        //disable right click context menu on canvas
        $('body').on('contextmenu', '#main', function(e){ return false; });
    };

    $(document).ready(function() {
        $('#overlay').hide();
        // Get canvas variables for Game to draw to
        $('#GameCanvas').show();
        var canvas = document.getElementById('GameCanvas');
        var context2d = canvas.getContext('2d');
        // Create & Initialise Game
        var game = new Game();
        $('body').on('click','#playerNamebutton', function(e){
            if($('#nameInput').val()){
                game.PlayerName = $('#nameInput').val();
                game.NameEntered = true;
            }
        });
        game.Init(canvas, context2d);
        console.log(game.PlayerName);
        // Start the Game & enter the game loop
        game.StartGame();

    });

</script>
<!--$('#playerNamebutton').click(function(){-->
<!--if($('#nameInput').val()){-->

<div id="main">
    <div id="canvasWrapper">
        <div id="overlay"></div>
        <div id="notify"></div>
        <canvas id="GameCanvas" width="800" height="600" style="display: none">
            <p>Your browser does not support canvas.</p>
        </canvas>
    </div>
</div>

<div id="debug"></div>
<div id="debug2"></div>
<div id="hidden" style="display : none">
    <div id="highScore">
        <h2>New High Score! Please enter a name:</h2>
        <div class="field-set">
            <input id="nameInput" type="text"  name="playerName" pattern="^[a-zA-Z]+$"
                   title="Please enter a name" required autofocus>
            <input type="button" value="OK" id="playerNamebutton" class="button">

        </div>
    </div>
</div>
</body>
</html>